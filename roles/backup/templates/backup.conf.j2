# Backup configuration for {{ app_name }}
# Generated by Ansible - do not edit manually

# Application
APP_NAME="{{ app_name }}"
APP_USER="{{ app_user }}"
APP_BASE_PATH="{{ app_base_path }}"

# Database
DB_TYPE="{{ db_type }}"
DB_NAME="{{ db_name }}"
DB_USER="{{ db_user }}"
DB_HOST="{{ db_host }}"
DB_PORT="{{ db_port }}"

# Backup scope
BACKUP_DOCUMENTS="{{ backup_documents | lower }}"
BACKUP_DOCUMENTS_PATH="{{ backup_documents_path }}"
BACKUP_JAR="{{ backup_jar | lower }}"
BACKUP_JAR_PATH="{{ backup_jar_path }}"
BACKUP_NGINX="{{ backup_nginx | lower }}"
BACKUP_NGINX_PATH="{{ backup_nginx_path }}"
BACKUP_SYSTEMD="{{ backup_systemd | lower }}"
BACKUP_SYSTEMD_PATH="{{ backup_systemd_path }}"

# Local backup
LOCAL_BACKUP_PATH="{{ local_backup_path }}"
LOCAL_RETENTION_COUNT="{{ local_retention_count }}"

# Cloud - B2
CLOUD_B2_ENABLED="{{ cloud_b2_enabled | lower }}"
CLOUD_B2_BUCKET="{{ cloud_b2_bucket }}"
CLOUD_B2_PATH="{{ cloud_b2_path }}"
CLOUD_B2_RETENTION_WEEKS="{{ cloud_b2_retention_weeks }}"

# Cloud - GDrive
CLOUD_GDRIVE_ENABLED="{{ cloud_gdrive_enabled | lower }}"
CLOUD_GDRIVE_FOLDER="{{ cloud_gdrive_folder }}"
CLOUD_GDRIVE_RETENTION_MONTHS="{{ cloud_gdrive_retention_months }}"

# Cloud - S3
CLOUD_S3_ENABLED="{{ cloud_s3_enabled | lower }}"
CLOUD_S3_BUCKET="{{ cloud_s3_bucket }}"
CLOUD_S3_PREFIX="{{ cloud_s3_prefix }}"
CLOUD_S3_REGION="{{ cloud_s3_region }}"
CLOUD_S3_RETENTION_DAYS="{{ cloud_s3_retention_days }}"

# Paths
GPG_KEY_PATH="{{ app_base_path }}/.backup-key"
RCLONE_CONFIG="{{ app_base_path }}/.config/rclone/rclone.conf"
LOG_FILE="/var/log/{{ app_name }}/backup.log"

# Notifications
TELEGRAM_ENABLED="{{ notification_telegram_enabled | lower }}"
{% if notification_telegram_enabled %}
TELEGRAM_BOT_TOKEN="{{ vault_telegram_bot_token }}"
TELEGRAM_CHAT_ID="{{ vault_telegram_chat_id }}"
{% endif %}
